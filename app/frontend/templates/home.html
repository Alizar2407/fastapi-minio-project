{% include 'layout.html' %}

<div class="container">
    <div class="card text-center">
        <div class="card-header">
            Your MinIO files
        </div>
        <div class="card-body">
            <h5 class="card-title">Here is the list of files for <i>{{ user.username }}</i></h5>

            <table class="table table-hover">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">File name</th>
                        <th scope="col">Upload date and time</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>

                    {% for file in files %}

                    <tr class="pointer">
                        <td>{{ loop.index }}</td>
                        <td>{{ file.file_name }}</td>
                        <td>{{ file.upload_date_time }}</td>

                        <td>
                            <button onclick="window.location.href='/files/download/{{file.id}}'" type="button"
                                class="btn btn-info">Download</button>

                            <button onclick="window.location.href='/files/delete/{{file.id}}'" type="button"
                                class="btn btn-danger">Delete</button>
                        </td>
                    </tr>

                    {% endfor %}

                </tbody>
            </table>

            <form method="GET" action="/files/upload"
                style="display: flex; justify-content: center; align-items: center; margin-top: 20px;">
                <input type="text" name="filename" placeholder="Enter file name" style="margin-right: 10px;" required>
                <button type="submit" class="btn btn-primary">Load new file</button>
            </form>
        </div>
    </div>
</div>